webpackJsonp([19,31],{8:function(t,i,o){o(11);var e=o(1)(o(9),o(12),null,null);t.exports=e.exports},9:function(t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default={data:function(){return{}},mounted:function(){},props:{show:{type:Boolean,default:!0},noData:{type:Boolean,default:!1},text:{type:String,default:"暂时没有相关内容"}},beforeDestroy:function(){}}},10:function(t,i,o){i=t.exports=o(2)(),i.push([t.id,".loading_container{position:absolute;top:30%;left:0;width:100%;text-align:center;color:#585858}.loading_container .icon-refresh{font-size:1.2rem}","",{version:3,sources:["/./src/components/common/loading.vue"],names:[],mappings:"AACA,mBAAmB,kBAAkB,QAAQ,OAAO,WAAW,kBAAkB,aAAa,CAC7F,AACD,iCAAiC,gBAAgB,CAChD",file:"loading.vue",sourcesContent:["\n.loading_container{position:absolute;top:30%;left:0;width:100%;text-align:center;color:#585858\n}\n.loading_container .icon-refresh{font-size:1.2rem\n}"],sourceRoot:"webpack://"}])},11:function(t,i,o){var e=o(10);"string"==typeof e&&(e=[[t.id,e,""]]);o(3)(e,{});e.locals&&(t.exports=e.locals)},12:function(t,i){t.exports={render:function(){var t=this,i=t.$createElement,o=t._self._c||i;return o("transition",{attrs:{mode:"out-in","enter-active-class":"fadeIn animated"}},[t.show?o("div",{staticClass:"loading_container"},[t.noData?t._e():o("div",[o("i",{staticClass:"icon-refresh animated rotate infinite"}),t._v(" "),o("span",[t._v("正在努力加载，请稍后")])]),t._v(" "),t.noData?o("div",[t._v(t._s(t.text))]):t._e()]):t._e()])},staticRenderFns:[]}},121:function(t,i,o){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(i,"__esModule",{value:!0});var n=o(7),a=e(n),s=o(6);i.default={data:function(){return{exchangeCityLoading:!1,exchangeCityInputLoading:!1,routerOrg:"",routerDes:""}},mounted:function(){this.GET_SFI(),this.routerOrg="/mobile/"+this.source+"/chooseCity/org/"+this.source,this.routerDes="/mobile/"+this.source+"/chooseCity/des/"+this.source},computed:(0,a.default)({},(0,s.mapState)(["SFI","currentCityType"])),props:["position","source"],methods:(0,a.default)({},(0,s.mapMutations)(["GET_SFI","CHANG_SFI_CITYS","SET_SFI_CITY_TYPE"]),{exchangeCity:function(t){return!this.exchangeCityLoading&&(!this.exchangeCityInputLoading&&(this.exchangeCityLoading=!0,this.exchangeCityInputLoading=!0,setTimeout(this.exchangeCityInfo,300),void setTimeout(this.exchangeCityReduction,500)))},exchangeCityInfo:function(){this.CHANG_SFI_CITYS(),this.exchangeCityInputLoading=!1},exchangeCityReduction:function(){this.exchangeCityLoading=!1},exchangeCityType:function(t){this.SET_SFI_CITY_TYPE(t)}})}},151:function(t,i){t.exports={render:function(){var t=this,i=t.$createElement,o=t._self._c||i;return o("div",{staticClass:"search-city"},[o("div",{staticClass:"city-item city-item-org",class:"out"!=t.position&&"org"==t.currentCityType?"focus":"",on:{click:function(i){t.exchangeCityType("org")}}},[o("span",{},[t._v("出发城市")]),t._v(" "),"out"==t.position?o("router-link",{staticClass:"city-item-input",class:{"trans-right":t.exchangeCityInputLoading},attrs:{to:t.routerOrg,tag:"div"}},[o("input",{attrs:{readonly:"readonly",placeholder:t.SFI.outboundOption.originLocationName||"--"}})]):o("div",{staticClass:"city-item-input",class:{"trans-right":t.exchangeCityInputLoading}},[o("input",{attrs:{readonly:"readonly",placeholder:t.SFI.outboundOption.originLocationName||"--"}})])],1),t._v(" "),o("div",{staticClass:"city-icon icon-plane",on:{click:function(i){return i.stopPropagation(),i.target!==i.currentTarget?null:void t.exchangeCity(i)}}},[o("span",{staticClass:"icon-refresh2",class:{rotate:t.exchangeCityLoading}})]),t._v(" "),o("div",{staticClass:"city-item city-item-des",class:"out"!=t.position&&"des"==t.currentCityType?"focus":"",on:{click:function(i){t.exchangeCityType("des")}}},[o("span",{},[t._v("到达城市")]),t._v(" "),"out"==t.position?o("router-link",{staticClass:"city-item-input",class:{"trans-left":t.exchangeCityInputLoading},attrs:{to:t.routerDes,tag:"div"}},[o("input",{attrs:{readonly:"readonly",placeholder:t.SFI.outboundOption.destinationLocationName||"--"}})]):o("div",{staticClass:"city-item-input",class:{"trans-left":t.exchangeCityInputLoading}},[o("input",{attrs:{readonly:"readonly",placeholder:t.SFI.outboundOption.destinationLocationName||"--"}})])],1)])},staticRenderFns:[]}},161:function(t,i,o){var e=o(1)(o(121),o(151),null,null);t.exports=e.exports},352:function(t,i,o){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(i,"__esModule",{value:!0});var n=o(165),a=e(n),s=o(7),r=e(s),c=o(6),l=o(14),d=o(8),A=e(d),u=o(161),h=e(u),y=o(5);i.default={data:function(){return{filterCityCode:"",type:"",source:"",showLoading:!0,historyCityList:[],groupCityInfo:{},cityInfo:[],letters:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",orgCity:{},desCity:{},targetCode:""}},created:function(){},mounted:function(){this.type=this.$route.params.type,this.source=this.$route.params.source,this.GET_SFI(),this.initData()},components:{XHeader:l.XHeader,loading:A.default,searchCity:h.default},computed:(0,r.default)({},(0,c.mapState)(["SFI","currentCityType","changeCityCount"]),{btnName:function(){return"org"==this.type?"继续选择到达城市":"flightStatus"==this.source?"":"继续选择出发日期"},titleName:function(){return"org"==this.type?"选择出发城市":"选择到达城市"}}),methods:(0,r.default)({},(0,c.mapMutations)(["SET_SFI_CITY","SET_SFI","GET_SFI","SET_SFI_CITY_TYPE"]),(0,c.mapActions)(["searchFlightInfo"]),{initData:function(){var t=this;this.depArrCity(),this.cityInfo[0]={title:"最近查询",type:"history",list:[]},this.cityInfo[1]={title:"国内热门城市",type:"hot",list:[]},this.cityInfo[2]={title:"国际热门城市",type:"hot",list:[]},this.cityInfo[3]={title:"试试城市首字母检索",type:"word",list:[]},this.cityInfo[4]={title:"试试城市首字母检索",type:"result",list:[]},this.cityInfo[5]={title:"国内",type:"result",list:[]},this.cityInfo[6]={title:"国际",type:"result",list:[]},"org"==this.currentCityType?this.filterCityCode=this.desCity.code:this.filterCityCode=this.orgCity.code,a.default.all([this.historyAsync(),this.hotAsync(),this.groupAsync()]).then(function(i){t.createLetterList("allLetter"),t.showLoading=!1})},historyAsync:function(){var t=this;return(0,y.historyCity)().then(function(i){i&&200==i.code&&t.updateArr(0,i.data||[])})},hotAsync:function(){var t=this;return(0,y.hotCity)().then(function(i){i&&200==i.code&&(t.updateArr(1,i.data.inland||[]),t.updateArr(2,i.data.inter||[]))})},groupAsync:function(){var t=this;return(0,y.groupCity)().then(function(i){i&&200==i.code&&(t.groupCityInfo=i.data)})},depArrCity:function(){this.orgCity.name=this.SFI.outboundOption.originLocationName,this.orgCity.code=this.SFI.outboundOption.originLocationCode,this.desCity.name=this.SFI.outboundOption.destinationLocationName,this.desCity.code=this.SFI.outboundOption.destinationLocationCode},filterData:function(){var t=this.cityInfo;this.cityInfo=[];var i=this;t.forEach(function(t){t.list&&t.list.length>0&&t.list.forEach(function(t){t.current=!1,t.code==i.targetCode&&(t.current=!0)})}),this.cityInfo=t,t=null},filterLetters:function(){var t=[],i={},o=[];return t=t.concat(this.groupCityInfo.inland,this.groupCityInfo.inter),(t||[]).forEach(function(t){!i[t.letter]&&t.letter&&(i[t.letter]=t.letter,o.push(t.letter))}),o.sort(),o},createLetterList:function(t,i){var o=this.filterLetters(),e=[];"allLetter"==t?((o||[]).forEach(function(t){e.push({city:t,code:t,type:"letter"})}),this.updateArr(3,e),this.updateArr(4,[])):(e=[{city:i,code:i,type:"currentLetter"},{city:"A-Z",type:"allLetter"}],this.updateArr(3,[]),this.updateArr(4,e))},updateArr:function(t,i){var o=this.cityInfo[t],e=this;(i||[]).forEach(function(t,o){if(t.code==e.filterCityCode)return void i.splice(o,1)}),o.list=i,this.cityInfo.splice(t,1,o)},filterCity:function(t,i){var o=[];return t.forEach(function(t){(t.pinyin||"").substring(0,1).toUpperCase()==i&&o.push(t)}),o},chooseItem:function(t){var i=t.target.dataset.type,o=t.target.innerText,e=t.target.dataset.code;if("letter"==i){var n=o;n&&(this.createLetterList("letter",n),this.updateArr(5,this.filterCity(this.groupCityInfo.inland,n)),this.updateArr(6,this.filterCity(this.groupCityInfo.inter,n)))}else"allLetter"==i?(this.createLetterList("allLetter"),this.updateArr(5,[]),this.updateArr(6,[])):"currentLetter"==i||("org"==this.currentCityType?(this.orgCity.name=o,this.orgCity.code=e):(this.desCity.name=o,this.desCity.code=e),this.SET_SFI_CITY({org:this.orgCity,des:this.desCity}),(0,y.setHistoryCity)({code:e,city:o}),this.historyAsync());this.targetCode!=e&&(this.targetCode=e,this.filterData())},okCity:function(){return!this.showLoading&&(this.SET_SFI(this.SFI),void("org"==this.currentCityType?(this.SET_SFI_CITY_TYPE("des"),this.$router.replace({path:"/mobile/"+this.source+"/chooseCity/des/"+this.source})):"flightStatus"!==this.source&&this.$router.replace({path:"/mobile/home/chooseDate/org"})))},okSearch:function(){if(this.showLoading)return!1;console.log("search...");var t=this;t.searchFlightInfo(function(){t.$router.replace({path:"/mobile/flightList",query:{type:"org"}})})}}),watch:{currentCityType:function(t,i){this.type=t,this.initData()},changeCityCount:function(t,i){var o=[this.desCity,this.orgCity];this.orgCity=o[0],this.desCity=o[1]}}}},466:function(t,i,o){i=t.exports=o(2)(),i.push([t.id,".allcover[data-v-407a1649]{position:absolute;top:0;right:0}.center[data-v-407a1649]{position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.ct[data-v-407a1649]{position:absolute;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.cl[data-v-407a1649]{position:absolute;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%)}.choose-city-info[data-v-407a1649],.choose-date-info[data-v-407a1649]{-webkit-box-flex:1;-ms-flex:1;flex:1;height:100%}.choose-city-info .animated[data-v-407a1649],.choose-date-info .animated[data-v-407a1649]{-webkit-animation-duration:.5s!important;animation-duration:.5s!important}.choose-city-info .ok-button[data-v-407a1649],.choose-date-info .ok-button[data-v-407a1649]{position:fixed;z-index:99;bottom:0;color:#fff;width:100%;margin:0;padding:.3rem;font-size:.8rem;text-align:center;opacity:0;background-color:#e2000c}.choose-city-info .ok-button.show[data-v-407a1649],.choose-date-info .ok-button.show[data-v-407a1649]{z-index:9;opacity:1;transition:opacity .4s;transition-delay:.8s}.choose-city-info .ok-button[data-v-407a1649],.choose-date-info .ok-button[data-v-407a1649]{padding:0!important}.choose-city-info .all-btn[data-v-407a1649],.choose-date-info .all-btn[data-v-407a1649]{padding:.3rem!important}.choose-city-info .ok-button .s-one[data-v-407a1649],.choose-date-info .ok-button .s-one[data-v-407a1649]{background:#efefef;color:#000}.choose-city-info .ok-button .s-one[data-v-407a1649],.choose-city-info .ok-button .s-two[data-v-407a1649],.choose-date-info .ok-button .s-one[data-v-407a1649],.choose-date-info .ok-button .s-two[data-v-407a1649]{float:left;width:50%;padding:.5rem}.cityList-panel[data-v-407a1649]{background:#fff}.cityList-panel .choose-city-info .search-box[data-v-407a1649]{background:#fff;border-radius:0;border-bottom:.5rem solid #efefef}.cityList-panel .choose-city-info .city-body[data-v-407a1649]{position:absolute;top:6.8rem;left:0;right:0;bottom:0;overflow-y:auto;-webkit-overflow-scrolling:touch}.cityList-panel .choose-city-info .city-content[data-v-407a1649]{position:relative;width:100%;padding-bottom:4rem}.cityList-panel .choose-city-info .city-content>div[data-v-407a1649]{position:relative}.cityList-panel .choose-city-info .city-content .city-title[data-v-407a1649]{padding:.675rem 0 .325rem;margin-left:.7rem}.cityList-panel .choose-city-info .city-content ul.city-list[data-v-407a1649]{padding:0 .5rem}.cityList-panel .choose-city-info .city-content ul.city-list li[data-v-407a1649]{position:relative;float:left;width:25%;box-sizing:border-box;padding:0 .17rem;margin-bottom:.25rem;margin-top:.1rem}.cityList-panel .choose-city-info .city-content ul.city-list li .city[data-v-407a1649],.cityList-panel .choose-city-info .city-content ul.city-list li .word[data-v-407a1649]{position:relative;display:block;padding:.1rem 0;border:1px solid #d8d8d8;border-radius:.15rem;text-align:center;box-sizing:border-box;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.cityList-panel .choose-city-info .city-content ul.city-list li .current[data-v-407a1649]{background-color:#e2000c;color:#fff}.cityList-panel .choose-city-info .city-content .word li[data-v-407a1649]{width:20%!important}.cityList-panel .choose-city-info .city-content .result li[data-v-407a1649]{width:33.33%!important}","",{version:3,sources:["/./src/page/flightCity/chooseCity.vue"],names:[],mappings:"AACA,2BAA2B,kBAAkB,MAAM,OAAO,CACzD,AACD,yBAAyB,kBAAkB,QAAQ,SAAS,uCAAwC,AAAoC,8BAA+B,CACtK,AACD,qBAAqB,kBAAkB,QAAQ,mCAAmC,AAA+B,0BAA0B,CAC1I,AACD,qBAAqB,kBAAkB,SAAS,mCAAmC,AAA+B,0BAA0B,CAC3I,AACD,sEAAsE,mBAAmB,AAAe,WAAW,OAAO,WAAW,CACpI,AACD,0FAA0F,yCAA0C,gCAAiC,CACpK,AACD,4FAA4F,eAAe,WAAW,SAAS,WAAW,WAAW,SAAS,cAAc,gBAAgB,kBAAkB,UAAU,wBAAwB,CAC/O,AACD,sGAAsG,UAAU,UAAU,AAA+B,uBAAuB,AAA6B,oBAAoB,CAChO,AACD,4FAA4F,mBAAoB,CAC/G,AACD,wFAAwF,uBAAwB,CAC/G,AACD,0GAA0G,mBAAmB,UAAU,CACtI,AACD,oNAAoN,WAAW,UAAU,aAAa,CACrP,AACD,iCAAiC,eAAe,CAC/C,AACD,+DAA+D,gBAAgB,gBAAgB,iCAAiC,CAC/H,AACD,8DAA8D,kBAAkB,WAAW,OAAO,QAAQ,SAAS,gBAAgB,gCAAgC,CAClK,AACD,iEAAiE,kBAAkB,WAAW,mBAAmB,CAChH,AACD,qEAAqE,iBAAiB,CACrF,AACD,6EAA6E,0BAA0B,iBAAiB,CACvH,AACD,8EAA8E,eAAe,CAC5F,AACD,iFAAiF,kBAAkB,WAAW,UAAU,sBAAsB,iBAAiB,qBAAqB,gBAAgB,CACnM,AACD,8KAA8K,kBAAkB,cAAc,gBAAgB,yBAAyB,qBAAqB,kBAAkB,sBAAsB,gBAAgB,uBAAuB,kBAAkB,CAC5W,AACD,0FAA0F,yBAAyB,UAAU,CAC5H,AACD,0EAA0E,mBAAoB,CAC7F,AACD,4EAA4E,sBAAuB,CAClG",file:"chooseCity.vue",sourcesContent:["\n.allcover[data-v-407a1649]{position:absolute;top:0;right:0\n}\n.center[data-v-407a1649]{position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%, -50%);-ms-transform:translate(-50%, -50%);transform:translate(-50%, -50%)\n}\n.ct[data-v-407a1649]{position:absolute;top:50%;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%)\n}\n.cl[data-v-407a1649]{position:absolute;left:50%;-webkit-transform:translateX(-50%);-ms-transform:translateX(-50%);transform:translateX(-50%)\n}\n.choose-date-info[data-v-407a1649],.choose-city-info[data-v-407a1649]{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;height:100%\n}\n.choose-date-info .animated[data-v-407a1649],.choose-city-info .animated[data-v-407a1649]{-webkit-animation-duration:.5s !important;animation-duration:.5s !important\n}\n.choose-date-info .ok-button[data-v-407a1649],.choose-city-info .ok-button[data-v-407a1649]{position:fixed;z-index:99;bottom:0;color:#fff;width:100%;margin:0;padding:.3rem;font-size:.8rem;text-align:center;opacity:0;background-color:#e2000c\n}\n.choose-date-info .ok-button.show[data-v-407a1649],.choose-city-info .ok-button.show[data-v-407a1649]{z-index:9;opacity:1;-webkit-transition:opacity .4s;transition:opacity .4s;-webkit-transition-delay:.8s;transition-delay:.8s\n}\n.choose-date-info .ok-button[data-v-407a1649],.choose-city-info .ok-button[data-v-407a1649]{padding:0 !important\n}\n.choose-date-info .all-btn[data-v-407a1649],.choose-city-info .all-btn[data-v-407a1649]{padding:.3rem !important\n}\n.choose-date-info .ok-button .s-one[data-v-407a1649],.choose-city-info .ok-button .s-one[data-v-407a1649]{background:#efefef;color:#000\n}\n.choose-date-info .ok-button .s-one[data-v-407a1649],.choose-city-info .ok-button .s-one[data-v-407a1649],.choose-date-info .ok-button .s-two[data-v-407a1649],.choose-city-info .ok-button .s-two[data-v-407a1649]{float:left;width:50%;padding:.5rem\n}\n.cityList-panel[data-v-407a1649]{background:#fff\n}\n.cityList-panel .choose-city-info .search-box[data-v-407a1649]{background:#fff;border-radius:0;border-bottom:.5rem solid #efefef\n}\n.cityList-panel .choose-city-info .city-body[data-v-407a1649]{position:absolute;top:6.8rem;left:0;right:0;bottom:0;overflow-y:auto;-webkit-overflow-scrolling:touch\n}\n.cityList-panel .choose-city-info .city-content[data-v-407a1649]{position:relative;width:100%;padding-bottom:4rem\n}\n.cityList-panel .choose-city-info .city-content>div[data-v-407a1649]{position:relative\n}\n.cityList-panel .choose-city-info .city-content .city-title[data-v-407a1649]{padding:.675rem 0 .325rem;margin-left:.7rem\n}\n.cityList-panel .choose-city-info .city-content ul.city-list[data-v-407a1649]{padding:0 .5rem\n}\n.cityList-panel .choose-city-info .city-content ul.city-list li[data-v-407a1649]{position:relative;float:left;width:25%;box-sizing:border-box;padding:0 .17rem;margin-bottom:.25rem;margin-top:.1rem\n}\n.cityList-panel .choose-city-info .city-content ul.city-list li .city[data-v-407a1649],.cityList-panel .choose-city-info .city-content ul.city-list li .word[data-v-407a1649]{position:relative;display:block;padding:.1rem 0;border:1px solid #D8D8D8;border-radius:.15rem;text-align:center;box-sizing:border-box;overflow:hidden;text-overflow:ellipsis;white-space:nowrap\n}\n.cityList-panel .choose-city-info .city-content ul.city-list li .current[data-v-407a1649]{background-color:#e2000c;color:#fff\n}\n.cityList-panel .choose-city-info .city-content .word li[data-v-407a1649]{width:20% !important\n}\n.cityList-panel .choose-city-info .city-content .result li[data-v-407a1649]{width:33.33% !important\n}"],sourceRoot:"webpack://"}])},520:function(t,i,o){var e=o(466);"string"==typeof e&&(e=[[t.id,e,""]]);o(3)(e,{});e.locals&&(t.exports=e.locals)},613:function(t,i){t.exports={render:function(){var t=this,i=t.$createElement,o=t._self._c||i;return o("div",{staticClass:"slide-panel cityList-panel"},[o("x-header",{attrs:{title:t.titleName,"left-options":{backText:""}}},[o("router-link",{attrs:{slot:"right",tag:"span",to:"/"},slot:"right"},[o("i",{staticClass:"icon-home"})])],1),t._v(" "),o("div",{staticClass:"choose-city-info index-white"},[o("div",{staticClass:"search-wrap"},[o("div",{staticClass:"search-box"},[o("search-city",{attrs:{position:"in"}})],1)]),t._v(" "),o("loading",{directives:[{name:"show",rawName:"v-show",value:t.showLoading,expression:"showLoading"}]}),t._v(" "),o("transition",{attrs:{mode:"out-in","enter-active-class":"slideInUp animated"}},[t.cityInfo.length>0?o("div",{staticClass:"city-body"},[o("div",{staticClass:"city-content"},[t._l(t.cityInfo,function(i){return[i.list.length>0?o("div",{staticClass:"city-panel",class:[i.type]},[o("div",{staticClass:"city-title"},[t._v(t._s(i.title))]),t._v(" "),o("ul",{staticClass:"city-list clear"},t._l(i.list,function(i){return o("li",[o("span",{staticClass:"city",class:{current:i.current},attrs:{"data-type":i.type,"data-code":i.code},on:{click:t.chooseItem}},[t._v(t._s(i.city))])])}))]):t._e()]})],2)]):t._e()]),t._v(" "),"flightStatus"===t.source&&t.btnName?o("div",{staticClass:"ok-button all-btn show",class:t.showLoading?"hnaui-btn-disabled":"",on:{click:t.okCity}},[t._v(t._s(t.btnName))]):t._e(),t._v(" "),"flightStatus"!==t.source?o("div",{staticClass:"ok-button show",class:t.showLoading?"hnaui-btn-disabled":""},[o("div",{staticClass:"s-one",on:{click:t.okCity}},[t._v(t._s(t.btnName))]),t._v(" "),o("div",{staticClass:"s-two",on:{click:t.okSearch}},[t._v("搜索航班")])]):t._e()],1)],1)},staticRenderFns:[]}},664:function(t,i,o){o(520);var e=o(1)(o(352),o(613),"data-v-407a1649",null);t.exports=e.exports}});